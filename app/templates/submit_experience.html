{% extends "base.html" %}

{% block title %}Submit Interview Experience{% endblock %}

{% block content %}
<div class="container mt-4">
    <h2 class="mb-4">Submit Your Interview Experience</h2>
    <p>Share your insights to help others in their placement journey!</p>

    <form method="POST" action="{{ url_for('interview.submit_experience') }}">
        <div class="mb-3">
            <label for="company_name" class="form-label">Company Name <span class="text-danger">*</span></label>
            <input type="text" class="form-control" id="company_name" name="company_name" required {% if company_name %}value="{{ company_name }}"{% endif %}>
        </div>
        <div class="mb-3">
            <label for="role" class="form-label">Role / Position <span class="text-danger">*</span></label>
            <input type="text" class="form-control" id="role" name="role" placeholder="e.g., Software Engineer Intern, Data Analyst" required {% if role %}value="{{ role }}"{% endif %}>
        </div>
        <div class="mb-3">
            <label for="experience_type" class="form-label">Experience Type <span class="text-danger">*</span></label>
            <select class="form-select" id="experience_type" name="experience_type" required>
                <option value="">Select Type</option>
                <option value="Internship" {% if experience_type == 'Internship' %}selected{% endif %}>Internship</option>
                <option value="Full-Time" {% if experience_type == 'Full-Time' %}selected{% endif %}>Full-Time</option>
                <option value="Off-Campus" {% if experience_type == 'Off-Campus' %}selected{% endif %}>Off-Campus</option>
                <option value="On-Campus" {% if experience_type == 'On-Campus' %}selected{% endif %}>On-Campus</option>
                <option value="Hackathon Placement" {% if experience_type == 'Hackathon Placement' %}selected{% endif %}>Hackathon Placement</option>
                <option value="Other" {% if experience_type == 'Other' %}selected{% endif %}>Other</option>
            </select>
        </div>
        <div class="mb-3">
            <label for="batch_year" class="form-label">Your Batch Year (Optional)</label>
            <input type="number" class="form-control" id="batch_year" name="batch_year" placeholder="e.g., 2025" min="2000" max="2100" {% if batch_year %}value="{{ batch_year }}"{% endif %}>
            <small class="form-text text-muted">The year you are graduating/graduated.</small>
        </div>
        <div class="mb-3">
            <label for="branch" class="form-label">Your Branch (Optional)</label>
            <input type="text" class="form-control" id="branch" name="branch" placeholder="e.g., Computer Science, ECE, IT" {% if branch %}value="{{ branch }}"{% endif %}>
        </div>
        <div class="mb-3">
            <label for="interview_date" class="form-label">Approximate Interview Date (Optional)</label>
            <input type="date" class="form-control" id="interview_date" name="interview_date" {% if interview_date %}value="{{ interview_date }}"{% endif %}>
            <small class="form-text text-muted">The date of your primary interview or offer.</small>
        </div>
        <div class="mb-3">
            <label for="experience_text" class="form-label">Detailed Experience Narrative <span class="text-danger">*</span></label>
            <p class="form-text text-muted mb-2">Be as specific as possible here! Describe your overall experience, from application to offer/rejection. Include company culture, environment, etc. This is very helpful for others.</p>
            <textarea class="form-control" id="experience_text" name="experience_text" rows="10" placeholder="Describe your overall experience, from application to offer/rejection. Include culture, environment, etc." required>{% if experience_text %}{{ experience_text }}{% endif %}</textarea>
        </div>
        <div class="mb-3">
            <label for="rounds_details" class="form-label">Rounds Details & Questions Asked (Optional)</label>
            <p class="form-text text-muted mb-2">Provide details for each round: type (aptitude, technical, HR), specific questions asked, coding problems, puzzles, etc.</p>
            <textarea class="form-control" id="rounds_details" name="rounds_details" rows="7" placeholder="Provide details for each round: type (aptitude, technical, HR), specific questions asked, coding problems, puzzles, etc.">{% if rounds_details %}{{ rounds_details }}{% endif %}</textarea>
        </div>
        
        <div class="d-flex justify-content-start align-items-center mt-4">
            <button type="submit" class="btn btn-primary me-2">Submit Experience</button>
            <a href="{{ url_for('student.dashboard') }}" class="btn btn-secondary">Cancel</a>
        </div>
    </form>
</div>
{% endblock %}